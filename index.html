<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hejteri Organization</title>
    <link rel="icon" href="https://raw.githubusercontent.com/hejteri/hejteri.github.io/main/hejteri/hejteri.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/hejteri/hejteri.github.io/hejteri/main.css">
	<style>
	@media only screen and (max-width: 710px) {
	.video-player {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    display: block;
    margin: auto;
	border-radius: 10px;
}
}
@media only screen and (min-width: 711px) {
	.video-player {
    width: 85%;
    height: 85%;
    object-fit: cover;
    object-position: center;
    display: block;
    margin: auto;
	border-radius: 10px;
}
}
	</style>
</head>
<body>
    <header>
        <a href="https://hejteri.github.io" class="title">Hejteri Organization</a>
        <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
        <nav>
            <a href="https://hejteri.github.io/mail">Mail</a>
            <a href="https://discord.gg/XnqtNG5g97">Discord</a>
            <a href="https://www.instagram.com/hejterioficial/">Instagram</a>
            <a href="" id="loginbut"></a>
            <a href="" id="panelbut"></a>
        </nav>
    </header>
    <div class="home-container">
        <section class="home-section">
            <load id="Section1-0"></load>
            <load id="Section1-1"></load>
        </section>
        <section class="home-section">
            <load id="Section2-0"></load>
            <load id="Section2-1"></load>
        </section>
	            <section class="home-section">
            <load id="Section3-0"></load>
            <b style="text-decoration: underline; position: relative; top: -1px;" class="toggle-text toggle-text-pubgm" onclick="toggleVisibility('pubgmContent', 'toggle-text-pubgm')">Show</b>
            <div id="pubgmContent" style="display: none;">
                <load id="Section3-1"></load>
            </div>
        </section>
        <section class="home-section">
            <load id="Section4-0"></load>
            <b style="text-decoration: underline; position: relative; top: -1px;" class="toggle-text toggle-text-so2" onclick="toggleVisibility('so2Content', 'toggle-text-so2')">Show</b>
            <div id="so2Content" style="display: none;">
                <load id="Section4-1"></load>
            </div>
        </section>
        <section class="home-section" class="video-player">
        </section>
        <section class="full-size-section home-section">
            <img src="https://raw.githubusercontent.com/hejteri/hejteri.github.io/main/hejteri/hejteri.png" alt="Hejteri Image">
        </section>
    </div>
    <footer class="footer-content">
        <p>&copy; 2018-2024 Hejteri Organization. All rights reserved.</p>
        <b>Designed by ROOT256</b>
    </footer>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hejteri/hejteri.github.io/hejteri/main.js"></script>
    <script>
        function getRandomVideoUrl(callback) {
            const baseUrl = "https://cdn.jsdelivr.net/gh/hejteri/hejteri.github.io/hejteri/videos/";
            const randomNumber = Math.floor(Math.random() * 100) + 1;
            const videoUrl = baseUrl + randomNumber + ".mp4";

            fetch(videoUrl)
                .then(response => {
                    if (response.ok) {
                        callback(videoUrl);
                    } else {
                        getRandomVideoUrl(callback);
                    }
                })
                .catch(error => {
                    console.error('Error checking video URL:', error);
                    getRandomVideoUrl(callback);
                });
        }

        function addVideoPlayer() {
            const section = document.querySelector('.video-player');

            function playNewVideo(videoUrl) {
                const videoPlayer = document.createElement('video');
                videoPlayer.classList.add('video-player');
                videoPlayer.src = videoUrl;
                videoPlayer.controls = true;
                videoPlayer.autoplay = true;
                videoPlayer.loop = true;

                section.innerHTML = "";
                section.appendChild(videoPlayer);
            }

            getRandomVideoUrl(playNewVideo);
        }

        function op(profileId) {
            var url = "https://link.standoff2.com/en/profile/view/" + profileId;
            window.open(url, '_blank');
        }
        function toggleVisibility(sectionId, toggleTextClass) {
            var section = document.getElementById(sectionId);
            var toggleText = document.querySelector('.' + toggleTextClass);
            if (section.style.display === 'none' || section.style.display === '') {
                section.style.display = 'block';
                toggleText.textContent = 'Hide';
            } else {
                section.style.display = 'none';
                toggleText.textContent = 'Show';
            }
        }
        function displayHeadingContent(pageNumber, sectionId) {
            const pageRef = firebase.database().ref(`/pages/home/${pageNumber}`);
            pageRef.once('value').then(snapshot => {
                const content = snapshot.val();
                if (content && content.head) {
                    const sectionElement = document.getElementById(sectionId);
                    if (sectionElement) {
                        sectionElement.innerHTML = `<h2>${content.head}</h2>`;
                    }
                }
            }).catch(() => {});
        }
        function displayParagraphContent(pageNumber, sectionId) {
            const pageRef = firebase.database().ref(`/pages/home/${pageNumber}`);
            pageRef.once('value').then(snapshot => {
                const content = snapshot.val();
                if (content && content.text) {
                    const sanitizedText = content.text.replace(/\\n/g, '<br>');
                    const sectionElement = document.getElementById(sectionId);
                    if (sectionElement) {
                        sectionElement.innerHTML += `<p>${sanitizedText}</p>`;
                    }
                }
            }).catch(() => {});
        }
        function displaySO2Content(pageNumber, sectionId) {
            const pageRef = firebase.database().ref(`/pages/home/${pageNumber}`);
            pageRef.once('value').then(snapshot => {
                const content = snapshot.val();
                if (content && content.text) {
                    const sanitizedText = content.text.replace(/\\n/g, '<br>');
                    const sectionElement = document.getElementById(sectionId);
                    if (sectionElement) {
                        const formattedText = sanitizedText.replace(/\b(\d+)\b/g, '<span class="standoff-link" onclick="op($1)">$1</span>');
                        sectionElement.innerHTML += `<p>${formattedText}</p>`;
                    }
                }
            }).catch(() => {});
        }
        window.onload = function () {
            AuthButtons();
            addVideoPlayer();
            displayHeadingContent(1, 'Section1-0');
            displayParagraphContent(1, 'Section1-1');
            displayHeadingContent(2, 'Section2-0');
            displayParagraphContent(2, 'Section2-1');
            displayHeadingContent(3, 'Section3-0');
            displayParagraphContent(3, 'Section3-1');
            displayHeadingContent(4, 'Section4-0');
            displaySO2Content(4, 'Section4-1');
        }
    </script>
</body>
</html>
